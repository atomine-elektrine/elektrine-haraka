; Elektrine async queue + worker configuration
;
; Environment variables override these values:
;   REDIS_URL
;   ELEKTRINE_QUEUE_NAME
;   ELEKTRINE_DLQ_NAME
;   ELEKTRINE_QUEUE_POP_TIMEOUT
;   ELEKTRINE_QUEUE_MAX_RAW_BYTES
;   WEBHOOK_MAX_RETRIES
;   WEBHOOK_RETRY_BASE_MS

[main]
; Keep payload fields aligned with the webhook plugin behavior
enabled = true
include_headers = true
include_body = true
include_attachments = true

; Phoenix webhook URL and auth can also be set here,
; but production should use env vars.
; url = https://elektrine.com/api/haraka/inbound
; phoenix_api_key =
; timeout = 30000

[queue]
redis_url = redis://redis:6379
name = elektrine:inbound
dlq_name = elektrine:inbound:dlq
pop_timeout_sec = 5
max_raw_bytes = 26214400

[worker]
webhook_max_retries = 5
webhook_retry_base_delay_ms = 1000
